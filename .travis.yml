language: ruby
rvm:
- 2.4.0
services:
  - postgresql
install:
  - bundle install --retry=3
before_script:
  - bundle exec rake db:setup
  - bin/yarn
script:
  - bundle exec brakeman --exit-on-warn
  - bundle exec rubocop -c .rubocop_github.yml
  - bundle exec rails_best_practices
  - bundle exec rspec
